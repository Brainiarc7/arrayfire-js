"use strict";
"use strict";
var lodash = require("lodash");
var assert = require("better-assert");
function Dim4(dim0, dim1, dim2, dim3) {
  if (_.isArray(dim0)) {
    return new Dim4(dim0[0], dim0[1], dim0[2], dim0[3]);
  }
  this.dims = [];
  if (_.isNumber(dim0)) {
    this.dims.push(dim0);
  } else {
    this.dims.push(1);
  }
  if (_.isNumber(dim1)) {
    this.dims.push(dim1);
  } else {
    this.dims.push(1);
  }
  if (_.isNumber(dim2)) {
    this.dims.push(dim2);
  } else {
    this.dims.push(1);
  }
  if (_.isNumber(dim3)) {
    this.dims.push(dim3);
  } else {
    this.dims.push(1);
  }
  var index;
  for (index = 3; index >= 0; index--) {
    if (this.dims[index] !== 1) {
      break;
    }
  }
  this.ndims = this.nDims = index + 1;
  this.elements = this.dims[0] * this.dims[1] * this.dims[2] * this.dims[3];
}
module.exports = Dim4;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpbTQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBK0JBO0FBQUEsV0FBVyxDQUFDO0FBRVosQUFBSSxFQUFBLENBQUEsTUFBSyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsUUFBTyxDQUFDLENBQUM7QUFDOUIsQUFBSSxFQUFBLENBQUEsTUFBSyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsZUFBYyxDQUFDLENBQUM7QUFFckMsT0FBUyxLQUFHLENBQUUsSUFBRyxDQUFHLENBQUEsSUFBRyxDQUFHLENBQUEsSUFBRyxDQUFHLENBQUEsSUFBRyxDQUFHO0FBQ2xDLEtBQUksQ0FBQSxRQUFRLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBRztBQUNqQixTQUFPLElBQUksS0FBRyxBQUFDLENBQUMsSUFBRyxDQUFFLENBQUEsQ0FBQyxDQUFHLENBQUEsSUFBRyxDQUFFLENBQUEsQ0FBQyxDQUFHLENBQUEsSUFBRyxDQUFFLENBQUEsQ0FBQyxDQUFHLENBQUEsSUFBRyxDQUFFLENBQUEsQ0FBQyxDQUFDLENBQUM7RUFDdkQ7QUFBQSxBQUNBLEtBQUcsS0FBSyxFQUFJLEdBQUMsQ0FBQztBQUNkLEtBQUksQ0FBQSxTQUFTLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBRztBQUFFLE9BQUcsS0FBSyxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQTtFQUFFLEtBQU87QUFBRSxPQUFHLEtBQUssS0FBSyxBQUFDLENBQUMsQ0FBQSxDQUFDLENBQUM7RUFBRTtBQUFBLEFBQ3pFLEtBQUksQ0FBQSxTQUFTLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBRztBQUFFLE9BQUcsS0FBSyxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQTtFQUFFLEtBQU87QUFBRSxPQUFHLEtBQUssS0FBSyxBQUFDLENBQUMsQ0FBQSxDQUFDLENBQUM7RUFBRTtBQUFBLEFBQ3pFLEtBQUksQ0FBQSxTQUFTLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBRztBQUFFLE9BQUcsS0FBSyxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQTtFQUFFLEtBQU87QUFBRSxPQUFHLEtBQUssS0FBSyxBQUFDLENBQUMsQ0FBQSxDQUFDLENBQUM7RUFBRTtBQUFBLEFBQ3pFLEtBQUksQ0FBQSxTQUFTLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBRztBQUFFLE9BQUcsS0FBSyxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQTtFQUFFLEtBQU87QUFBRSxPQUFHLEtBQUssS0FBSyxBQUFDLENBQUMsQ0FBQSxDQUFDLENBQUM7RUFBRTtBQUFBLEFBQ3JFLElBQUEsQ0FBQSxLQUFJLENBQUM7QUFDVCxNQUFLLEtBQUksRUFBSSxFQUFBLENBQUcsQ0FBQSxLQUFJLEdBQUssRUFBQSxDQUFHLENBQUEsS0FBSSxFQUFFLENBQUc7QUFDakMsT0FBSSxJQUFHLEtBQUssQ0FBRSxLQUFJLENBQUMsSUFBTSxFQUFBLENBQUc7QUFDeEIsV0FBSztJQUNUO0FBQUEsRUFDSjtBQUFBLEFBQ0EsS0FBRyxNQUFNLEVBQUksQ0FBQSxJQUFHLE1BQU0sRUFBSSxDQUFBLEtBQUksRUFBSSxFQUFBLENBQUM7QUFDbkMsS0FBRyxTQUFTLEVBQUksQ0FBQSxJQUFHLEtBQUssQ0FBRSxDQUFBLENBQUMsRUFBSSxDQUFBLElBQUcsS0FBSyxDQUFFLENBQUEsQ0FBQyxDQUFBLENBQUksQ0FBQSxJQUFHLEtBQUssQ0FBRSxDQUFBLENBQUMsQ0FBQSxDQUFJLENBQUEsSUFBRyxLQUFLLENBQUUsQ0FBQSxDQUFDLENBQUM7QUFDN0U7QUFBQSxBQUVBLEtBQUssUUFBUSxFQUFJLEtBQUcsQ0FBQztBQUFBIiwiZmlsZSI6ImRpbTQuanMiLCJzb3VyY2VSb290IjoibGliL2VzNiIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5Db3B5cmlnaHQgKGMpIDIwMTQtMjAxNSwgQXJyYXlGaXJlXG5Db3B5cmlnaHQgKGMpIDIwMTUgR++/vWJvciBNZXrvv70gYWthIHVuYm9ybmNoaWtrZW4gKGdhYm9yLm1lem9Ab3V0bG9vay5jb20pXG5BbGwgcmlnaHRzIHJlc2VydmVkLlxuXG5SZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxuYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuXG4gKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcbiAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG5cbiAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcbiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cblxuICogTmVpdGhlciB0aGUgbmFtZSBvZiB0aGUgQXJyYXlGaXJlIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG5cblRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiIEFORFxuQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbldBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbkRJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SXG5BTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVNcbihJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUztcbkxPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTlxuQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbihJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG5TT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiovXG5cblwidXNlIHN0cmljdFwiO1xuXG5sZXQgbG9kYXNoID0gcmVxdWlyZShcImxvZGFzaFwiKTtcbmxldCBhc3NlcnQgPSByZXF1aXJlKFwiYmV0dGVyLWFzc2VydFwiKTtcblxuZnVuY3Rpb24gRGltNChkaW0wLCBkaW0xLCBkaW0yLCBkaW0zKSB7XG4gICAgaWYgKF8uaXNBcnJheShkaW0wKSkge1xuICAgICAgICByZXR1cm4gbmV3IERpbTQoZGltMFswXSwgZGltMFsxXSwgZGltMFsyXSwgZGltMFszXSk7XG4gICAgfVxuICAgIHRoaXMuZGltcyA9IFtdO1xuICAgIGlmIChfLmlzTnVtYmVyKGRpbTApKSB7IHRoaXMuZGltcy5wdXNoKGRpbTApIH0gZWxzZSB7IHRoaXMuZGltcy5wdXNoKDEpOyB9XG4gICAgaWYgKF8uaXNOdW1iZXIoZGltMSkpIHsgdGhpcy5kaW1zLnB1c2goZGltMSkgfSBlbHNlIHsgdGhpcy5kaW1zLnB1c2goMSk7IH1cbiAgICBpZiAoXy5pc051bWJlcihkaW0yKSkgeyB0aGlzLmRpbXMucHVzaChkaW0yKSB9IGVsc2UgeyB0aGlzLmRpbXMucHVzaCgxKTsgfVxuICAgIGlmIChfLmlzTnVtYmVyKGRpbTMpKSB7IHRoaXMuZGltcy5wdXNoKGRpbTMpIH0gZWxzZSB7IHRoaXMuZGltcy5wdXNoKDEpOyB9XG4gICAgbGV0IGluZGV4O1xuICAgIGZvciAoaW5kZXggPSAzOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XG4gICAgICAgIGlmICh0aGlzLmRpbXNbaW5kZXhdICE9PSAxKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm5kaW1zID0gdGhpcy5uRGltcyA9IGluZGV4ICsgMTtcbiAgICB0aGlzLmVsZW1lbnRzID0gdGhpcy5kaW1zWzBdICogdGhpcy5kaW1zWzFdICogdGhpcy5kaW1zWzJdICogdGhpcy5kaW1zWzNdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERpbTQ7Il19
