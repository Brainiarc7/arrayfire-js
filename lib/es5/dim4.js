"use strict";
"use strict";
var _ = require("lodash");
var assert = require("better-assert");
function Dim4(dim0, dim1, dim2, dim3) {
  if (_.isArray(dim0)) {
    return new Dim4(dim0[0], dim0[1], dim0[2], dim0[3]);
  }
  this.dims = [];
  if (_.isNumber(dim0)) {
    this.dims.push(dim0);
  } else {
    this.dims.push(1);
  }
  if (_.isNumber(dim1)) {
    this.dims.push(dim1);
  } else {
    this.dims.push(1);
  }
  if (_.isNumber(dim2)) {
    this.dims.push(dim2);
  } else {
    this.dims.push(1);
  }
  if (_.isNumber(dim3)) {
    this.dims.push(dim3);
  } else {
    this.dims.push(1);
  }
  var index;
  for (index = 3; index >= 0; index--) {
    if (this.dims[index] !== 1) {
      break;
    }
  }
  this.ndims = this.nDims = index + 1;
  this.elements = this.dims[0] * this.dims[1] * this.dims[2] * this.dims[3];
}
module.exports = Dim4;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpbTQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBK0JBO0FBQUEsV0FBVyxDQUFDO0FBRVosQUFBSSxFQUFBLENBQUEsQ0FBQSxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsUUFBTyxDQUFDLENBQUM7QUFDekIsQUFBSSxFQUFBLENBQUEsTUFBSyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsZUFBYyxDQUFDLENBQUM7QUFFckMsT0FBUyxLQUFHLENBQUUsSUFBRyxDQUFHLENBQUEsSUFBRyxDQUFHLENBQUEsSUFBRyxDQUFHLENBQUEsSUFBRyxDQUFHO0FBQ2xDLEtBQUksQ0FBQSxRQUFRLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBRztBQUNqQixTQUFPLElBQUksS0FBRyxBQUFDLENBQUMsSUFBRyxDQUFFLENBQUEsQ0FBQyxDQUFHLENBQUEsSUFBRyxDQUFFLENBQUEsQ0FBQyxDQUFHLENBQUEsSUFBRyxDQUFFLENBQUEsQ0FBQyxDQUFHLENBQUEsSUFBRyxDQUFFLENBQUEsQ0FBQyxDQUFDLENBQUM7RUFDdkQ7QUFBQSxBQUNBLEtBQUcsS0FBSyxFQUFJLEdBQUMsQ0FBQztBQUNkLEtBQUksQ0FBQSxTQUFTLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBRztBQUFFLE9BQUcsS0FBSyxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQTtFQUFFLEtBQU87QUFBRSxPQUFHLEtBQUssS0FBSyxBQUFDLENBQUMsQ0FBQSxDQUFDLENBQUM7RUFBRTtBQUFBLEFBQ3pFLEtBQUksQ0FBQSxTQUFTLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBRztBQUFFLE9BQUcsS0FBSyxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQTtFQUFFLEtBQU87QUFBRSxPQUFHLEtBQUssS0FBSyxBQUFDLENBQUMsQ0FBQSxDQUFDLENBQUM7RUFBRTtBQUFBLEFBQ3pFLEtBQUksQ0FBQSxTQUFTLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBRztBQUFFLE9BQUcsS0FBSyxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQTtFQUFFLEtBQU87QUFBRSxPQUFHLEtBQUssS0FBSyxBQUFDLENBQUMsQ0FBQSxDQUFDLENBQUM7RUFBRTtBQUFBLEFBQ3pFLEtBQUksQ0FBQSxTQUFTLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBRztBQUFFLE9BQUcsS0FBSyxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQTtFQUFFLEtBQU87QUFBRSxPQUFHLEtBQUssS0FBSyxBQUFDLENBQUMsQ0FBQSxDQUFDLENBQUM7RUFBRTtBQUFBLEFBQ3JFLElBQUEsQ0FBQSxLQUFJLENBQUM7QUFDVCxNQUFLLEtBQUksRUFBSSxFQUFBLENBQUcsQ0FBQSxLQUFJLEdBQUssRUFBQSxDQUFHLENBQUEsS0FBSSxFQUFFLENBQUc7QUFDakMsT0FBSSxJQUFHLEtBQUssQ0FBRSxLQUFJLENBQUMsSUFBTSxFQUFBLENBQUc7QUFDeEIsV0FBSztJQUNUO0FBQUEsRUFDSjtBQUFBLEFBQ0EsS0FBRyxNQUFNLEVBQUksQ0FBQSxJQUFHLE1BQU0sRUFBSSxDQUFBLEtBQUksRUFBSSxFQUFBLENBQUM7QUFDbkMsS0FBRyxTQUFTLEVBQUksQ0FBQSxJQUFHLEtBQUssQ0FBRSxDQUFBLENBQUMsRUFBSSxDQUFBLElBQUcsS0FBSyxDQUFFLENBQUEsQ0FBQyxDQUFBLENBQUksQ0FBQSxJQUFHLEtBQUssQ0FBRSxDQUFBLENBQUMsQ0FBQSxDQUFJLENBQUEsSUFBRyxLQUFLLENBQUUsQ0FBQSxDQUFDLENBQUM7QUFDN0U7QUFBQSxBQUVBLEtBQUssUUFBUSxFQUFJLEtBQUcsQ0FBQztBQUFBIiwiZmlsZSI6ImRpbTQuanMiLCJzb3VyY2VSb290IjoibGliL2VzNiIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5Db3B5cmlnaHQgKGMpIDIwMTQtMjAxNSwgQXJyYXlGaXJlXG5Db3B5cmlnaHQgKGMpIDIwMTUgR8OhYm9yIE1lesWRIGFrYSB1bmJvcm5jaGlra2VuIChnYWJvci5tZXpvQG91dGxvb2suY29tKVxuQWxsIHJpZ2h0cyByZXNlcnZlZC5cblxuUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcbmFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcblxuICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXG4gIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuXG4gKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcbiAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yXG4gIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAqIE5laXRoZXIgdGhlIG5hbWUgb2YgdGhlIEFycmF5RmlyZSBub3IgdGhlIG5hbWVzIG9mIGl0c1xuICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuICB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuXG5USElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkRcbkFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG5XQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFXG5ESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUlxuQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTXG4oSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7XG5MT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT05cbkFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4oSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4qL1xuXG5cInVzZSBzdHJpY3RcIjtcblxubGV0IF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xubGV0IGFzc2VydCA9IHJlcXVpcmUoXCJiZXR0ZXItYXNzZXJ0XCIpO1xuXG5mdW5jdGlvbiBEaW00KGRpbTAsIGRpbTEsIGRpbTIsIGRpbTMpIHtcbiAgICBpZiAoXy5pc0FycmF5KGRpbTApKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGltNChkaW0wWzBdLCBkaW0wWzFdLCBkaW0wWzJdLCBkaW0wWzNdKTtcbiAgICB9XG4gICAgdGhpcy5kaW1zID0gW107XG4gICAgaWYgKF8uaXNOdW1iZXIoZGltMCkpIHsgdGhpcy5kaW1zLnB1c2goZGltMCkgfSBlbHNlIHsgdGhpcy5kaW1zLnB1c2goMSk7IH1cbiAgICBpZiAoXy5pc051bWJlcihkaW0xKSkgeyB0aGlzLmRpbXMucHVzaChkaW0xKSB9IGVsc2UgeyB0aGlzLmRpbXMucHVzaCgxKTsgfVxuICAgIGlmIChfLmlzTnVtYmVyKGRpbTIpKSB7IHRoaXMuZGltcy5wdXNoKGRpbTIpIH0gZWxzZSB7IHRoaXMuZGltcy5wdXNoKDEpOyB9XG4gICAgaWYgKF8uaXNOdW1iZXIoZGltMykpIHsgdGhpcy5kaW1zLnB1c2goZGltMykgfSBlbHNlIHsgdGhpcy5kaW1zLnB1c2goMSk7IH1cbiAgICBsZXQgaW5kZXg7XG4gICAgZm9yIChpbmRleCA9IDM7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgaWYgKHRoaXMuZGltc1tpbmRleF0gIT09IDEpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMubmRpbXMgPSB0aGlzLm5EaW1zID0gaW5kZXggKyAxO1xuICAgIHRoaXMuZWxlbWVudHMgPSB0aGlzLmRpbXNbMF0gKiB0aGlzLmRpbXNbMV0gKiB0aGlzLmRpbXNbMl0gKiB0aGlzLmRpbXNbM107XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRGltNDsiXX0=
